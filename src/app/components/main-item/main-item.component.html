<div
	class="item__inner color"
	[ngClass]="[checkAccessEdit(point) ? 'item__inner--available' : '', point.color ? 'color--' + point.color : '']"
>
	<h2 class="item__title">
		<span
			app-tooltip
			(mouseenter)="loadUserInfo(point.user)"
		>
			<a
				routerLink="/point/{{ point.id }}"
				[attr.title]="point.description || null"
			>{{ point.title }}</a>
			<ng-container *ngIf="point?.userInfo">
				<ng-container *ngIf="point.userInfo?.displayName || point.userInfo?.photoURL else userEmpty;">
					<ng-template #tooltipContent>
						<img
							*ngIf="point.userInfo?.photoURL"
							class="userpic userpic--sm"
							[src]="point.userInfo?.photoURL"
							[alt]="point.userInfo?.displayName"
						>{{ point.userInfo?.displayName }}
					</ng-template>
				</ng-container>
				<ng-template #userEmpty>
					<ng-template #tooltipContent>...</ng-template>
				</ng-template>
			</ng-container>
		</span><ng-container *ngIf="!loading && checkAccessEdit(point); else loader">&nbsp;|&nbsp;<button
				type="button"
				class="link"
				(click)="delete(point.id)"
			>x</button>
			<ng-container
				*ngIf="checkboxTemplate else defaultCheckbox;"
				[ngTemplateOutlet]="checkboxTemplate"
			></ng-container>
			<ng-template #defaultCheckbox>
				<input
					#pointCheckbox
					type="checkbox"
					(change)="checkPoint()"
				>
			</ng-template>
		</ng-container>
	</h2><small
		*ngIf="point?.greenwich"
		class="item__addon"
	>Гринвич</small>
	<small
		*ngIf="point?.repeatable"
		class="item__addon"
	>Повторяемое</small>
	<small
		*ngIf="point?.public"
		class="item__addon"
	>Публичное</small>

	<ng-template #loader>
		<span
			*ngIf="loading"
			class="loader rotating"
		></span>
	</ng-template>

</div>
